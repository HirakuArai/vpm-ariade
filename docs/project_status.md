# project_status.md

最終更新日: 2025-04-30  
バージョン: 1.4（自己改修UI＋パッチ履歴表示安定化）

---

## ■ 全体概要・進捗率：70%
- Kai UI からの関数選択 → GPT 提案 → コード差し替え処理（Step 4）完了。
- `patch_history.json` による履歴保存（Step 5）と UI 表示（Step 6）は安定稼働。
- Streamlit Cloud 環境での自動 Git push → 再デプロイまで動作確認済み。
- 提案 UI のフィードバック強化（T006）を進行中。

---

## ■ タスク一覧
| タスクID | 内容                                                       | 状況         |
|----------|------------------------------------------------------------|--------------|
| T001     | Function Calling による文脈判断の拡張                      | 未着手       |
| T002     | 大規模ログ整形・RAG テスト                                 | 一時停止中   |
| T004     | セキュリティ要件整理                                      | 未着手       |
| T005     | Kai の自己改修機構整備（Step 3〜6）                         | ✅完了       |
| T006     | UI 整備プロトタイプ化（提案 UI 改善）                       | 進行中       |
| T007     | AST→JSON 日次自動生成 (`extract_capabilities.py`)          | 予定         |
| T008     | 役割→必要能力マッピング (`role_mapper.py`)                 | 予定         |
| T009     | ギャップ算出＆ UI 表示 (`capability_diff.py`)               | 予定         |
| T010     | GPT 生成コード適用スキーマ (`propose_capability_code`)      | 予定         |

---

## ■ 進行中の改善・検討ポイント
- 💾 反映完了時のトースト表示とコミットハッシュ提示を追加予定。
- 差分ビューに行番号とハイライトを付与し UX 向上。
- `patch_history.json` が Cloud 再起動で欠落しないよう自動 push 対応済み。

---

## ■ 直近の改善提案・反映内容（履歴）
- `get_today_log_path()`：例外処理・ログフォルダ生成を明示。
- `append_to_log()`：docstring 追加で可読性向上。
- `kai_patch_applier.py`：`patch_history.json` への追記と Git 連携を統合。

---

## ■ 今後のマイルストン（暫定）
| 日付        | 目標                                                       |
|-------------|------------------------------------------------------------|
| 2025-05-01  | **T006 完了**：提案 UI 改善 & 反映フィードバック強化        |
| 2025-05-03  | `project_status.md` 自動更新 PoC                           |
| 2025-05-10  | 能力循環ループ自動化（T007〜T010）                         |
| 2025-05-15  | RAG PoC 再開（T002）                                       |
| 2025-05-25  | MVP 判定レビュー                                           |

---

## ■ コメント
- Kai の自己改修＋履歴保存は一連のワークフローとして安定。  
- 今後は UI 体験のブラッシュアップと能力循環ループの自動化が焦点。  
- `project_status.md` も Kai UI から直接追記できる仕組みを準備中。

