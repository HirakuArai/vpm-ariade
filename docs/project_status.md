# project_status.md

最終更新日: 2025-05-01  
バージョン: 1.6（T018 モジュール統合ステップ開始）

---

## ■ 全体概要・進捗率：78%
- T017 （Kai 能力延長サイクル）の全ステップ完了。
- T018 ステップ1〜2（モジュール統合とimport整理）も完了。
- Kai UI からの関数選択～GPT提案～コード保存まで自動化の基盤が確立。
- T006 (提案 UI 改善) も実用化メドリで進行中。

---

## ■ タスク一覧
| タスクID | 内容                                                       | 状況         |
|----------|------------------------------------------------------------|--------------|
| T001     | Function Calling による文脈判断の拡張                      | 未着手       |
| T002     | 大規模ログ整形・RAG テスト                                 | 一時停止中   |
| T004     | セキュリティ要件整理                                      | 未着手       |
| T005     | Kai の自己改修機構整備（Step 3〜6）                         | ✅完了       |
| T006     | UI 整備プロトタイプ化（提案 UI 改善）                       | 進行中       |
| T007     | AST→JSON 日次自動生成 (`extract_capabilities.py`)          | 予定         |
| T008     | 役割→必要能力マッピング (`role_mapper.py`)                 | 予定         |
| T009     | ギャップ算出Ⅱ UI 表示 (`capability_diff.py`)               | 予定         |
| T010     | GPT 生成コード適用スキーマ (`propose_capability_code`)      | 予定         |
| T017     | 能力延長サイクルの確立（差分→優先度→選定→保存）             | ✅完了       |
| T018     | コア機能のモジュール統合とimport整理                        | 🟩一部完了   |

---

## ■ 進行中の改善・検討ポイント
- 💾 反映完了時のトースト表示とコミットハッシュ提示を追加予定。
- 差分ビューに行番号とハイライトを付与し UX 向上。
- `patch_history.json` が Cloud 再起動で欠落しないよう自動 push 対応済。

---

## ■ 直近の改善提案・反映内容
- `get_today_log_path()`：例外処理・ログフォルダ生成を明示。
- `append_to_log()`： docstring 追加で可読性向上。
- `kai_patch_applier.py`： `patch_history.json`への追記と Git 連携を統合。
- `next_task_selector.py` → `core/task_selector.py` に移行。
- `stub_writer.py` → `core/stub_writer.py` に移行。
- `scripts/` 配下の旧スクリプトを整理・削除済。

---

## ■ 今後のマイルストン（昨曜）
| 日付        | 目標                                                       |
|-------------|------------------------------------------------------------|
| 2025-05-01  | **T006 完了**：提案 UI 改善 & 反映フィードバック強化        |
| 2025-05-03  | `project_status.md` 自動更新 PoC                           |
| 2025-05-10  | 能力循環ループ自動化（T007〜T010）                         |
| 2025-05-15  | RAG PoC 再開（T002）                                       |
| 2025-05-25  | MVP 判定レビュー                                           |

---

## ■ コメント
- T017 の全ステップ完了により、Kai 自身の能力延長サイクルが現実化。  
- T018.2（コア関数統合と呼び出し整理）まで完了し、Kaiの構造が整理されつつある。  
- 次は T018.3：ユーティリティの統一／共通ログ関数・定数の整理へ進行予定。  
- `project_status.md` 自身も Kai UI から直接更新できるように移行中。

